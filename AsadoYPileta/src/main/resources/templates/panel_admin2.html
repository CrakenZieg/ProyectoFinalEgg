<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <head th:replace="/fragmentos/frags :: head"></head>
    <body>
        <header th:replace="fragmentos/frags :: header"></header>
        <main>
            <section class="container">
                <div class="row">
                    <ul class="nav nav-tabs">
                        <li class="nav-item">
                            <a class="nav-link menu active" data-bs-target="#DashboarAdmin" data-bs-slide-to="0" onclick="seleccionar(this)">Nuevos campos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link menu" data-bs-target="#DashboarAdmin" data-bs-slide-to="1" onclick="seleccionar(this)">Clientes</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link menu" data-bs-target="#DashboarAdmin" data-bs-slide-to="2" onclick="seleccionar(this)">Propiedades</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link menu" data-bs-target="#DashboarAdmin" data-bs-slide-to="3" onclick="seleccionar(this)">Estad√≠sticas</a>
                        </li>
                    </ul>                    
                </div>
            </section>
            <section id="DashboarAdmin" class="carousel slide">
                <div class="carousel-inner">
                    <div class="carousel-item active">  
                        <div class="container my-2 px-0">
                            <div class="accordion" id="sumarTipos">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#contactoCollapse" aria-expanded="true" aria-controls="contactoCollapse">
                                            Tipo de contacto
                                        </button>
                                    </h2>
                                    <div id="contactoCollapse" class="accordion-collapse collapse show" data-bs-parent="#sumarTipos">
                                        <div class="accordion-body">
                                            <strong>This is the first item's accordion body.</strong> It is shown by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the <code>.accordion-body</code>, though the transition does limit overflow.
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#propiedadCollapse" aria-expanded="false" aria-controls="propiedadCollapse">
                                            Tipo de propiedad
                                        </button>
                                    </h2>
                                    <div id="propiedadCollapse" class="accordion-collapse collapse" data-bs-parent="#sumarTipos">
                                        <div class="accordion-body">
                                            <div id="servicioCollapse" class="accordion-collapse collapse" data-bs-parent="#sumarTipos">
                                                <div class="accordion-body">
                                                    <form id="formServicio" method='POST' th:action="@{/negocio/registroServicio}">
                                                        <input hidden="true" id="idServicio" name="id"/>
                                                        <div class="form-group my-2">
                                                            <label for="tipoComodidad" class="form-label"><span class="h3">Tipo</span></label>                           
                                                            <input type="text" class="form-control" id="tipoServicio" name="tipoComodidad" placeholder="ej: Vajilla"/>
                                                        </div>
                                                        <div class="form-group my-2">
                                                            <label for="valor" class="form-label"><span class="h3">Valor</span></label>                           
                                                            <input type="number" class="form-control" id="valorServicio" name="valor" min="0"/>
                                                        </div>
                                                        <div class="form-group my-2">                                                                           
                                                            <button type="submit" class="btn btn-outline-success">Guardar</button>
                                                            <a class="btn btn-outline-info" th:onclick="limpiarServicio()">Limpiar</a>
                                                            <a class="btn btn-outline-danger" th:onclick="eliminarServicio()">Eliminar</a>
                                                            <button type="submit" id="eliminarServicio" class="btn btn-danger" disabled="true"><i class="bi bi-trash"></i></button>
                                                        </div>
                                                    </form>      
                                                    <table class="table table-striped">
                                                        <caption>Servicios disponibles</caption>
                                                        <thead>
                                                            <tr>
                                                                <th>
                                                                    Tipo de comodidad
                                                                </th>
                                                                <th>
                                                                    Valor
                                                                </th>
                                                            </tr>                                
                                                        </thead>
                                                        <tbody>
                                                            <tr th:each="servicio : ${servicios}" th:onclick="'editarServicio(\''+__${servicio.id}__+'\',\''+__${servicio.tipoComodidad}__+'\','+__${servicio.valor}__+')'">
                                                                <td class="tipoServicioElemento">[[${servicio.tipoComodidad}]]</td>
                                                                <td class="tipoServiciovalor">[[${servicio.valor}]]</td>
                                                            </tr>                                                    
                                                        </tbody> 
                                                    </table>                                            
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#servicioCollapse" aria-expanded="false" aria-controls="servicioCollapse">
                                            Tipo de Servicio
                                        </button>
                                    </h2>
                                    <div id="servicioCollapse" class="accordion-collapse collapse" data-bs-parent="#sumarTipos">
                                        <div class="accordion-body">
                                            <form id="formServicio" method='POST' th:action="@{/negocio/registroServicio}">
                                                <input hidden="true" id="idServicio" name="id"/>
                                                <div class="form-group my-2">
                                                    <label for="tipoComodidad" class="form-label"><span class="h3">Tipo</span></label>                           
                                                    <input type="text" class="form-control" id="tipoServicio" name="tipoComodidad" placeholder="ej: Vajilla"/>
                                                </div>
                                                <div class="form-group my-2">
                                                    <label for="valor" class="form-label"><span class="h3">Valor</span></label>                           
                                                    <input type="number" class="form-control" id="valorServicio" name="valor" min="0"/>
                                                </div>
                                                <div class="form-group my-2">                                                                           
                                                    <button type="submit" class="btn btn-outline-success">Guardar</button>
                                                    <a class="btn btn-outline-info" th:onclick="limpiarServicio()">Limpiar</a>
                                                    <a class="btn btn-outline-danger" th:onclick="eliminarServicio()">Eliminar</a>
                                                    <button type="submit" id="eliminarServicio" class="btn btn-danger" disabled="true"><i class="bi bi-trash"></i></button>
                                                </div>
                                            </form>      
                                            <table class="table table-striped">
                                                <caption>Servicios disponibles</caption>
                                                <thead>
                                                    <tr>
                                                        <th>
                                                            Tipo de comodidad
                                                        </th>
                                                        <th>
                                                            Valor
                                                        </th>
                                                    </tr>                                
                                                </thead>
                                                <tbody>
                                                    <tr th:each="servicio : ${servicios}" th:onclick="'editarServicio(\''+__${servicio.id}__+'\',\''+__${servicio.tipoComodidad}__+'\','+__${servicio.valor}__+')'">
                                                        <td class="tipoServicioElemento">[[${servicio.tipoComodidad}]]</td>
                                                        <td class="tipoServiciovalor">[[${servicio.valor}]]</td>
                                                    </tr>                                                    
                                                </tbody> 
                                            </table>                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        Clientes
                    </div>
                    <div class="carousel-item">
                        Propiedades
                    </div>
                    <div class="carousel-item">
                        <div class="container">
                            <table class="table table-striped">
                                <caption>Activos/disponibles</caption>
                                <thead>
                                    <tr>
                                        <th>
                                            Indice
                                        </th>
                                        <th>
                                            Cantidad
                                        </th>
                                    </tr>                                
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Clientes</td>
                                        <td>[[${numeroClientes}]]</td>
                                    </tr>
                                    <tr>
                                        <td>Propietarios</td>
                                        <td>[[${numeroPropietarios}]]</td>
                                    </tr>
                                    <tr>
                                        <td>Propieades</td>
                                        <td>[[${numeroPropiedades}]]</td>
                                    </tr>
                                    <tr>
                                        <td>Reservas</td>
                                        <td>[[${numeroReservas}]]</td>
                                    </tr>
                                </tbody> 
                            </table>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <footer th:replace="fragmentos/frags :: footer"></footer>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>        
        <script th:src="@{/js/UtilidadesPerfil.js}" type="text/javascript"></script>
    </body>
</html>
